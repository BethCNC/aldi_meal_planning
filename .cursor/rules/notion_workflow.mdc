---
alwaysApply: true
---
# Notion-First Meal Planning Workflow

Your Notion workspace is now your source of truth for recipes and pricing. Use these scripts to automate data entry and generate budget meal plans.

---

## ğŸš€ Quick Start (3 Steps)

### Step 1: Import Your Price Data (5 minutes)

```bash
# In VS Code terminal
npm run import:prices
```

This imports your Excel price list into the **Aldi Ingredients** database in Notion.

**What it does:**
- Reads `AldiMasterPriceList1pedosz.xlsx`
- Creates/updates ingredient records in Notion
- Organizes by category (Dairy, Meat, Veggies, etc.)

**After running:** Verify in Notion that ingredients imported correctly.

---

### Step 2: Add Recipes (ongoing)

#### Option A: From a URL (fastest)

```bash
# In VS Code terminal
npm run add:recipe "https://budgetbytes.com/your-recipe-url"
```

**What it does:**
- Scrapes recipe title, ingredients, instructions from URL
- Creates recipe page in Notion
- You just need to add cost & category manually

#### Option B: Manual Entry in Notion (most control)

1. Open your **Aldi Recipes** database in Notion
2. Click "+ New"
3. Fill in:
   - Recipe Name
   - Recipe Ingredients (full list)
   - Link ingredients from **Database Ingredients**
   - Category, Servings, Source/Link
4. Save

**ğŸ¯ Goal:** Add 10-15 recipes to start

---

### Step 3: Calculate Costs & Generate Plan

#### Calculate Recipe Costs

```bash
# After linking ingredients to recipes
npm run calc:costs
```

This automatically calculates `Cost ($)` and `Cost per Serving ($)` for all recipes with linked ingredients.

#### Generate Weekly Meal Plan

```bash
# Default: $75 budget, 7 days, 4 servings
npm run plan:generate

# Custom budget and settings
npm run plan:generate -- --budget 100 --days 5 --servings 2
```

**What it does:**
- Queries your Notion recipes
- Selects recipes within budget
- Prioritizes variety (different categories)
- Creates weekly plan in **Aldi Meal Planner** database

---

## ğŸ“‹ All Available Scripts

| Command | Description |
|---------|-------------|
| `npm run import:prices` | Import Excel price list to Notion |
| `npm run add:recipe "URL"` | Add recipe from URL |
| `npm run calc:costs` | Auto-calculate recipe costs from ingredients |
| `npm run plan:generate` | Generate budget meal plan |
| `npm run plan:generate -- --budget 60 --days 5` | Custom budget & days |

---

## ğŸ’¡ Recommended Workflow

### Weekly Routine

1. **Sunday:** Generate next week's meal plan
   ```bash
   npm run plan:generate -- --budget 75
   ```

2. **Monday:** Check Notion Meal Planner, export shopping list

3. **During week:** Rate recipes after cooking (in Notion)

### Monthly Routine

1. **Update prices** (as you shop or quarterly)
   - Edit ingredient costs in Notion manually, or
   - Re-run `npm run import:prices` if Excel updated

2. **Add new recipes** (aim for 2-3 per week)
   ```bash
   npm run add:recipe "https://new-recipe-url.com"
   ```

3. **Recalculate costs** for recipes with updated ingredients
   ```bash
   npm run calc:costs
   ```

---

## ğŸ¯ Building Your Recipe Database

### Best Sources for Budget Aldi Recipes:

- **Budget Bytes** (budgetbytes.com) - excellent cost breakdowns
- **Spend With Pennies** (spendwithpennies.com)
- **The Frugal Girls** (thefrugalgirls.com)
- **Aldi Meal Plans** blog posts (search Google)

### When Adding Recipes:

**Minimum required fields:**
- Recipe Name
- Cost ($) or linked Database Ingredients
- Servings
- Category

**Nice to have:**
- Recipe Ingredients (text list)
- Instructions
- Source/Link
- Rating (after cooking)
- Tags (One-Pot, Sheet Pan, etc.)

### Cost Calculation Methods:

**Method 1: Link ingredients** (most accurate)
1. Add ingredient items to **Database Ingredients** with prices
2. Link them in the recipe's **Database Ingredients** field
3. Run `npm run calc:costs` to auto-calculate

**Method 2: Manual entry** (faster for simple recipes)
1. Calculate total cost yourself
2. Enter directly in **Cost ($)** field
3. Calculate per-serving cost: `Total Ã· Servings`

---

## ğŸ“Š How the Meal Plan Generator Works

### Selection Criteria:

1. **Budget constraint:** Total cost â‰¤ your budget
2. **Variety:** Rotates through categories (Beef, Chicken, Vegetarian, etc.)
3. **Rating priority:** Prefers 5-star recipes when available
4. **Cost per serving:** Calculates for your household size

### Example:

```bash
npm run plan:generate -- --budget 80 --days 7 --servings 4
```

**Output:**
```
Day 1: Chicken Stir Fry - $9.50 (Chicken) â˜…â˜…â˜…â˜…â˜…
Day 2: Spaghetti & Meatballs - $8.25 (Beef) â˜…â˜…â˜…â˜…
Day 3: Black Bean Tacos - $6.00 (Vegetarian) â˜…â˜…â˜…â˜…â˜…
...
Total: $75.80 / $80.00
Remaining: $4.20
```

The script creates entries in your **Aldi Meal Planner** with dinner recipes linked.

---

## ğŸ”§ Troubleshooting

### "No recipes found with cost data"
- Add recipes to Notion first
- Make sure recipes have either:
  - Cost ($) field filled, OR
  - Database Ingredients linked

### "Could not find recipes within budget"
- Add more affordable recipes
- Increase budget parameter
- Check that ingredient prices are realistic

### Recipe scraper not extracting data well
- Some sites have unusual formats
- Manually copy/paste into Notion instead
- Focus on the URL for attribution

### Notion API errors
- Check `.env` has correct database IDs
- Verify databases are shared with integration
- Check rate limiting (scripts pause 350ms between requests)

---

## ğŸ“ Next Steps

### Enhance Your Setup:

1. **Add more recipes** (aim for 30+ eventually)
2. **Update prices regularly** (check receipts)
3. **Rate recipes** after cooking (helps with selection)
4. **Use tags** for quick filtering (One-Pot, Sheet Pan, etc.)

### Advanced Features (future):

- Shopping list generator from meal plan
- Nutrition tracking per recipe
- Leftover management
- Seasonal recipe suggestions
- Export meal plans to calendar

---

## ğŸ“– Understanding Your Databases

### Aldi Recipes
**Purpose:** Master recipe collection  
**Key Fields:** Name, Cost, Servings, Category, Database Ingredients (relation)

### Aldi Ingredients  
**Purpose:** Price database for individual items  
**Key Fields:** Item, Cost, Category, Unit  
**Relation:** Links to recipes that use this ingredient

### Aldi Meal Planner
**Purpose:** Weekly meal calendar  
**Key Fields:** Date, Day, Dinner (relation to recipes)  
**Views:** Calendar view grouped by day

---

## â“ Questions?

Open an issue in the GitHub repo or review the script files in `/scripts/` for implementation details.

Happy meal planning! ğŸ½ï¸