# 05 - Accessibility Requirements

**WCAG AAA Compliance Checklist**

This document outlines all accessibility requirements for the Aldi Meal Planner 2.0, targeting WCAG AAA compliance (the highest level).

---

## ğŸ¯ Accessibility Goals

- **WCAG AAA Compliance** (not just AA)
- **Triple Input Modality**: Voice, button, text for all actions
- **Zero Barriers**: App usable by everyone, regardless of ability
- **Screen Reader Optimized**: Full compatibility with NVDA, JAWS, VoiceOver
- **Keyboard Navigation**: All functions accessible via keyboard

---

## âœ… WCAG AAA Checklist

### 1. Perceivable

#### 1.1 Text Alternatives
- âœ… All images have alt text
- âœ… Decorative images marked as decorative
- âœ… Icons have text labels or aria-labels
- âœ… Charts/graphs have text descriptions

#### 1.2 Time-based Media
- âœ… No auto-playing audio/video
- âœ… Captions available for any video content
- âœ… Audio descriptions for visual content

#### 1.3 Adaptable
- âœ… Content structure with proper headings (h1-h6)
- âœ… Lists use proper list elements
- âœ… Tables have headers
- âœ… Form labels associated with inputs
- âœ… No reliance on color alone for information

#### 1.4 Distinguishable
- âœ… **Contrast Ratio**: 7:1 for normal text, 4.5:1 for large text (AAA)
- âœ… **Text Resize**: Up to 200% without loss of functionality
- âœ… **Images of Text**: Avoided (use actual text)
- âœ… **Low/No Audio**: No audio-only content
- âœ… **Visual Presentation**: Line height 1.5x, paragraph spacing

---

### 2. Operable

#### 2.1 Keyboard Accessible
- âœ… **All Functions**: Accessible via keyboard
- âœ… **No Keyboard Trap**: Can navigate in and out
- âœ… **Keyboard Shortcuts**: Documented and customizable
- âœ… **Focus Order**: Logical tab order
- âœ… **Focus Indicators**: Visible and clear (3px minimum)

#### 2.2 Enough Time
- âœ… **No Time Limits**: No auto-logout or session timeouts
- âœ… **Pause/Stop**: Any animations can be paused
- âœ… **No Timing**: No time-based interactions required

#### 2.3 Seizures and Physical Reactions
- âœ… **No Flashing**: No content flashes more than 3 times/second
- âœ… **Reduced Motion**: Respects `prefers-reduced-motion`
- âœ… **Animation Control**: Can disable animations

#### 2.4 Navigable
- âœ… **Skip Links**: Skip to main content
- âœ… **Page Titles**: Descriptive and unique
- âœ… **Focus Order**: Logical sequence
- âœ… **Link Purpose**: Clear from link text or context
- âœ… **Multiple Ways**: Multiple ways to find content (not needed - single page)
- âœ… **Headings and Labels**: Descriptive and clear
- âœ… **Focus Visible**: Clear focus indicators

#### 2.5 Input Modalities
- âœ… **Pointer Gestures**: No complex gestures required
- âœ… **Pointer Cancellation**: Can cancel pointer actions
- âœ… **Label in Name**: Accessible name matches visible text
- âœ… **Motion Actuation**: Can disable motion-based interactions

---

### 3. Understandable

#### 3.1 Readable
- âœ… **Language**: Page language declared (`lang` attribute)
- âœ… **Unusual Words**: Definitions available
- âœ… **Abbreviations**: Expanded on first use
- âœ… **Reading Level**: Lower secondary education level
- âœ… **Pronunciation**: Pronunciation help available if needed

#### 3.2 Predictable
- âœ… **On Focus**: No context changes on focus
- âœ… **On Input**: No unexpected context changes
- âœ… **Consistent Navigation**: Consistent navigation (single page, not applicable)
- âœ… **Consistent Identification**: Consistent labels and icons
- âœ… **Change on Request**: User initiates changes

#### 3.3 Input Assistance
- âœ… **Error Identification**: Clear error messages
- âœ… **Labels or Instructions**: Clear labels for all inputs
- âœ… **Error Suggestion**: Suggestions for fixing errors
- âœ… **Error Prevention**: Confirmation for important actions

---

### 4. Robust

#### 4.1 Compatible
- âœ… **Parsing**: Valid HTML
- âœ… **Name, Role, Value**: Proper ARIA attributes
- âœ… **Status Messages**: Properly announced to screen readers

---

## ğŸ¤ Triple Input Modality

Every action must support three input methods:

### 1. Voice Input
- âœ… Web Speech API integration
- âœ… Voice commands for all actions
- âœ… Visual feedback when listening
- âœ… Error handling for voice recognition failures

### 2. Button/Touch
- âœ… Large touch targets (44x44px minimum)
- âœ… Clear button labels
- âœ… Visual feedback on interaction
- âœ… Hover states (desktop)

### 3. Keyboard
- âœ… Tab navigation
- âœ… Enter/Space to activate
- âœ… Arrow keys for navigation
- âœ… Escape to cancel/close
- âœ… Keyboard shortcuts documented

---

## ğŸ¨ Visual Accessibility

### Color Contrast
- âœ… **Normal Text**: 7:1 contrast ratio (AAA)
- âœ… **Large Text**: 4.5:1 contrast ratio (AAA)
- âœ… **UI Components**: 3:1 contrast ratio (buttons, inputs)
- âœ… **Focus Indicators**: 3:1 contrast ratio

### Typography
- âœ… **Font Size**: Minimum 16px for body text
- âœ… **Line Height**: 1.5x font size
- âœ… **Letter Spacing**: Normal (not too tight)
- âœ… **Font Choice**: Sans-serif, readable fonts

### Visual Indicators
- âœ… **Not Color Alone**: Information conveyed through multiple means
- âœ… **Icons + Text**: Icons always have text labels
- âœ… **Focus Indicators**: 3px solid outline, high contrast
- âœ… **Error States**: Icon + color + text

---

## âŒ¨ï¸ Keyboard Navigation

### Standard Navigation
- **Tab**: Move forward through interactive elements
- **Shift+Tab**: Move backward
- **Enter/Space**: Activate buttons/links
- **Arrow Keys**: Navigate within components
- **Escape**: Close modals, cancel actions
- **Home/End**: Jump to start/end of content

### Custom Shortcuts
- **Ctrl/Cmd + K**: Focus search (if applicable)
- **Ctrl/Cmd + P**: Print grocery list
- **Ctrl/Cmd + R**: Regenerate plan
- **Alt + D**: Focus days selector

---

## ğŸ“± Screen Reader Support

### ARIA Labels
```html
<!-- Days Selector -->
<button aria-label="Select 7 days for meal plan">
  7 Days
</button>

<!-- Voice Input -->
<button aria-label="Speak number of days" aria-pressed="false">
  <span aria-hidden="true">ğŸ¤</span>
  <span class="sr-only">Voice input</span>
</button>

<!-- Grocery List -->
<section aria-label="Grocery list for 7 days">
  <h2>Grocery List</h2>
  <!-- List items -->
</section>
```

### Live Regions
```html
<!-- AI Status Updates -->
<div aria-live="polite" aria-atomic="true" class="sr-only">
  Generating your meal plan...
</div>

<!-- Error Messages -->
<div aria-live="assertive" role="alert">
  Error: Could not generate plan. Please try again.
</div>
```

### Semantic HTML
- âœ… Use proper heading hierarchy (h1-h6)
- âœ… Use `<nav>`, `<main>`, `<section>`, `<article>`
- âœ… Use `<button>` for actions, `<a>` for navigation
- âœ… Use `<label>` for form inputs
- âœ… Use `<ul>`, `<ol>` for lists

---

## ğŸ¯ Implementation Checklist

### Phase 1: Foundation
- [ ] Set up ARIA labels for all interactive elements
- [ ] Implement keyboard navigation
- [ ] Add focus indicators (3px, high contrast)
- [ ] Test with screen reader (NVDA/JAWS/VoiceOver)

### Phase 2: Voice Input
- [ ] Integrate Web Speech API
- [ ] Add voice input button with proper labels
- [ ] Handle voice recognition errors gracefully
- [ ] Provide visual feedback during voice input

### Phase 3: Visual Accessibility
- [ ] Verify color contrast (7:1 for text, 4.5:1 for large)
- [ ] Add high contrast mode toggle
- [ ] Implement reduced motion support
- [ ] Test with color blindness simulators

### Phase 4: Testing
- [ ] Test with screen readers (NVDA, JAWS, VoiceOver)
- [ ] Test keyboard-only navigation
- [ ] Test with voice input
- [ ] Test with high contrast mode
- [ ] Test with reduced motion

---

## ğŸ§ª Testing Tools

### Automated Testing
- **axe DevTools**: Browser extension for accessibility testing
- **WAVE**: Web accessibility evaluation tool
- **Lighthouse**: Built into Chrome DevTools

### Manual Testing
- **Screen Readers**: NVDA (Windows), JAWS (Windows), VoiceOver (Mac/iOS)
- **Keyboard Navigation**: Tab through entire app
- **Color Contrast**: WebAIM Contrast Checker
- **Voice Input**: Test with Web Speech API

---

## ğŸ“š Resources

- [WCAG 2.1 Guidelines](https://www.w3.org/WAI/WCAG21/quickref/)
- [WebAIM Contrast Checker](https://webaim.org/resources/contrastchecker/)
- [ARIA Authoring Practices](https://www.w3.org/WAI/ARIA/apg/)
- [Web Speech API](https://developer.mozilla.org/en-US/docs/Web/API/Web_Speech_API)

---

## ğŸ“š Related Documents

- [02-design-principles.mdc](./02-design-principles.mdc) - Principle 2: Accessibility-First
- [11-component-library.mdc](./11-component-library.mdc) - Component accessibility specs

---

**Last updated**: December 20, 2024

